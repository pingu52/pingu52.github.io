---
import type { Post } from "@/lib/posts";
import { formatDate, getPostUrl } from "@/lib/posts";

const { post } = Astro.props as { post: Post };
const desc = post.data.description ?? "";
---

<a class="post-row" href={getPostUrl(post)}>
  <div class="img">
    {post.data.thumbnail ? (
      <img src={post.data.thumbnail} alt="" loading="lazy" decoding="async" />
    ) : null}
  </div>
  <div class="info">
    <strong>{post.data.title}</strong>
    {desc ? <p>{desc}</p> : <p style="color: var(--muted);">설명이 없어요 (description 추가해도 좋아요)</p>}
    <time datetime={post.data.pubDate.toISOString()}>{formatDate(post.data.pubDate)}</time>
  </div>
</a>
