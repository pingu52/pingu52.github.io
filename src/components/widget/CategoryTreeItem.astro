---
import { getCategorySlugPathUrl } from "@utils/url-utils";

interface Props {
	label: string;
	slugPath: string[];
	count: number;
	activeSlugPath: string[];
}

const { label, slugPath, count, activeSlugPath } = Astro.props;
const isActiveLeaf =
	activeSlugPath.length === slugPath.length &&
	activeSlugPath.every((seg, idx) => slugPath[idx] === seg);
---
<li class="flex">
	<a
		href={getCategorySlugPathUrl(slugPath)}
		class:list={[
			"btn-card w-full flex items-center justify-between rounded-lg px-3 py-2 transition",
			isActiveLeaf
				? "font-semibold text-[var(--primary)]"
				: "text-neutral-700 dark:text-neutral-300",
		]}
	>
		<span>{label}</span>
		<span
			class="inline-flex min-w-[1.5rem] items-center justify-center rounded-md bg-blue-500 px-2 py-1 text-[0.75rem] font-semibold text-white dark:text-black/80"
		>
			{count}
		</span>
	</a>
</li>
