---
import CategoryTreeItem from "./CategoryTreeItem.astro";
import type { CategoryNode } from "../../utils/category-taxonomy";

interface Props {
	nodes: CategoryNode[];
	parentSlugPath?: string[];
	activeSlugPath: string[];
	counts: Record<string, number>;
}

const { nodes, parentSlugPath = [], activeSlugPath, counts } = Astro.props;
---

<ul class="flex flex-col gap-1">
	{nodes.map((node) => (
		<CategoryTreeItem
			node={node}
			parentSlugPath={parentSlugPath}
			activeSlugPath={activeSlugPath}
			counts={counts}
		/>
	))}
</ul>
